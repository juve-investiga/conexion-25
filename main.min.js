"use strict";document.addEventListener("DOMContentLoaded",function(){particlesJS.load("particles-js","./assets/particles.json",function(){console.log("callback - particles.js config loaded")});let e=document.querySelector("#atp");function t(e,t,a,i,o){let r="v"!==o?'<div class="video-container"><iframe src="https://www.youtube.com/embed/':'<div class="video-container-v"><iframe src="https://www.youtube.com/embed/',n="autoplay=1&cc_load_policy=1&modestbranding=1&fs=1&start="+a+i+'&rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';e.innerHTML=t.startsWith("PL")?r+"videoseries?list="+t+"&"+n:r+t+"?"+n}e.addEventListener("click",e=>{e.target.open?e.target.removeAttribute("open"):e.target.setAttribute("open","")}),!function e(){let a=document.querySelectorAll('[class*="video-player"]');if(a)for(let i=0;i<a.length;i++)a[i].addEventListener("click",function(e){let a=e.currentTarget.dataset.videoId,i=e.currentTarget.dataset.videoStart||"0",o=e.currentTarget.dataset.videoEnd?"&end="+e.currentTarget.dataset.videoEnd:"",r=e.currentTarget.dataset.videoOrientation||"";t(e.currentTarget,a,i,o,r)})}();let a=document.querySelector(".owl-carousel-mis");a&&(jQuery(".owl-carousel-mis").owlCarousel({items:1,loop:!1,margin:10,nav:!1,dots:!0,autoplay:!1}),new class e{constructor(){this.pdfViewerDiv=document.getElementById("pdf-viewer"),this.container=document.getElementById("pdf-container"),this.title=document.getElementById("mis-folleto-viewer-title"),this.pdfDonwloadLink=document.querySelector("#download a"),this.currentPage=1,this.scale=1,this.pdfDoc=null,this.loadingTask=null,this.bindEvents(),this.loadFirstPDF()}bindEvents(){document.querySelectorAll(".mis-folleto-pdf").forEach(e=>{e.onclick=()=>{let t=e.dataset.pdf,a=e.textContent.replace("Evidencia | ","");this.title.textContent=a,this.loadDocument(t),this.pdfDonwloadLink.href=t,this.pdfDonwloadLink.download="Juve investiga - Conexi\xf3n 25 - "+a+".pdf",this.pdfViewerDiv.scrollIntoView({behavior:"smooth"})}})}async loadFirstPDF(){let e=document.querySelector(".mis-folleto-pdf");if(e){let t=e.dataset.pdf;await this.loadDocument(t)}}async loadDocument(e){await this.cleanup();try{this.loadingTask=pdfjsLib.getDocument(e),this.pdfDoc=await this.loadingTask.promise,await this.renderAllPages()}catch(t){console.error("Error loading PDF:",t)}}async renderAllPages(){this.container.innerHTML="";for(let e=1;e<=this.pdfDoc.numPages;e++){let t=document.createElement("div");t.className="page-container",this.container.appendChild(t);try{let a=await this.pdfDoc.getPage(e),i=a.getViewport({scale:this.scale}),o=document.createElement("canvas"),r=o.getContext("2d");o.height=i.height,o.width=i.width,t.appendChild(o),await a.render({canvasContext:r,viewport:i}).promise}catch(n){console.error(`Error rendering page ${e}:`,n)}}}async cleanup(){this.loadingTask&&await this.loadingTask.destroy(),this.pdfDoc&&(await this.pdfDoc.cleanup(),await this.pdfDoc.destroy()),this.pdfDoc=null,this.loadingTask=null,this.currentPage=1}})});